:root {
  --bg: #f0f2f5;
  --card-bg: #ffffff;
  --primary: #1f6feb;
  --text: #333;
  --border: #e1e4e8;
  --highlight: #fffde7;
  --highlight-border: #ffc107;
}

* { box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 10px; }

/* 布局框架：桌面双栏，手机单栏 */
.layout-grid {
  display: grid;
  grid-template-columns: 1fr 320px; /* 左侧自适应，右侧固定320px */
  gap: 15px;
  max-width: 1200px;
  margin: 0 auto;
}
@media (max-width: 768px) {
  .layout-grid { grid-template-columns: 1fr; } /* 手机端变单栏 */
}

.panel { background: var(--card-bg); border-radius: 8px; padding: 12px; margin-bottom: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
h2 { margin-top: 0; font-size: 1.1rem; border-bottom: 1px solid var(--border); padding-bottom: 8px; }

/* 顶部栏 */
.topbar { display: flex; justify-content: space-between; align-items: center; background: #24292f; color: #fff; padding: 10px 15px; border-radius: 8px; margin-bottom: 15px; }
.topbar h1 { margin: 0; font-size: 1.2rem; }

/* 地图 */
.map-wrap { display: grid; grid-template-columns: 1fr 80px 1fr; gap: 8px; align-items: center; text-align: center; }
.map-col { display: flex; flex-direction: column; gap: 6px; }
.city { padding: 10px; border: 1px solid #ccc; border-radius: 6px; background: #fff; font-weight: bold; cursor: pointer; }
.city.culture { border-left: 5px solid #7a56ff; }
.city.industry { border-left: 5px solid #e68a00; }
.city.occupied { background: #e6fffa; border-color: #4caf50; color: #2e7d32; }
.city.pickable { border: 2px dashed var(--primary); animation: pulse 1s infinite; }
.rome { padding: 15px 0; background: #eee; border-radius: 50%; font-weight: bold; font-size: 0.8rem; }
.rome.lost { background: #ffebee; color: #c62828; border: 2px solid #c62828; }

/* 手牌 */
.hand-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px; }
.card-item { border: 1px solid var(--border); border-radius: 6px; padding: 8px; background: #fafbfc; font-size: 0.9rem; }
.card-item h3 { margin: 0 0 5px 0; font-size: 1rem; color: var(--primary); }

/* 按钮 */
button { cursor: pointer; border: 1px solid #d1d5da; border-radius: 6px; padding: 8px 16px; background: #f6f8fa; font-size: 14px; }
button:active { background: #e1e4e8; }
button:disabled { opacity: 0.5; cursor: not-allowed; }
button.primary { background: var(--primary); color: white; border: none; font-weight: bold; }
button.action-btn { width: 100%; text-align: left; margin-bottom: 6px; padding: 10px; display: flex; justify-content: space-between; }

/* AI 高亮 (强制生效) */
button.ai-highlight {
  background-color: var(--highlight) !important;
  border: 2px solid var(--highlight-border) !important;
  position: relative;
}
button.ai-highlight::after {
  content: "💡推荐";
  font-size: 0.8rem;
  color: #d97706;
  font-weight: bold;
}

/* 历史与说明 */
.history-list { max-height: 200px; overflow-y: auto; font-size: 0.85rem; color: #586069; }
.monument-item { margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px dashed #eee; }

@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }